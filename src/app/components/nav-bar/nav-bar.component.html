<mat-toolbar color="primary" class="mat-elevation-z4">
  <img src="icons/icone_azul.png" alt="Logo" style="height: 40px; margin-right: 16px;" routerLink="/" />

  <a routerLink="/" class="perfil-link">RoomFlow</a>

  <span class="toolbar-title">{{ textoNav }}</span>

  <span class="spacer"></span>

  <div *ngIf="usuario" class="usuario-info" style="margin-right: 10px;">
    <span>{{ usuario.nome }}</span> |
    <span>{{ usuario.cargo }}</span>
  </div>

<!-- filtro / calendario-->
<!-- Ícone do calendário que abre o menu -->
<button mat-icon-button [matMenuTriggerFor]="calendarMenu" style="margin-right: -10px;">
  <mat-icon>calendar_month</mat-icon>
</button>

<!-- Menu flutuante -->
<mat-menu #calendarMenu="matMenu">
  <button mat-menu-item (click)="abrirCalendario()">Abrir Calendário</button>
  <button mat-menu-item (click)="abrirBloco()">Bloco</button>
  <button mat-menu-item (click)="aplicarFiltro()">Filtrar</button>
</mat-menu>


  <button *ngIf="estaLogado" mat-icon-button [matMenuTriggerFor]="menu" aria-label="Toggle menu" class="account-button">
    <mat-icon>account_circle</mat-icon>
  </button>
</mat-toolbar>

<mat-menu #menu="matMenu">
  <div *ngIf="usuario" style="padding: 8px 16px; font-size: 14px;">
    {{ usuario.email }} |
    {{usuario.cargo}}
  </div>
  <mat-divider></mat-divider>
  <a mat-menu-item routerLink="/principal">Mapa</a>
  <a mat-menu-item routerLink="/alterar-mapa" *ngIf="ehAdm">Alterar mapa</a>
  <a mat-menu-item routerLink="/solicitacao" *ngIf="ehAdm">Solicitações</a>
  <a mat-menu-item routerLink="/gerenciamentoUsuarios" *ngIf="ehAdm">Gerenciamento de Usuários</a>
  <a mat-menu-item routerLink="/alterar-senha">Alterar senha</a>
  <a mat-menu-item class="sair-link" (click)="sairDaConta()">Sair</a>
</mat-menu>